{% extends "layout.html" %}

{% block head %}
      <script type="text/javascript">
          $(document).ready( function() {
              enrichment_page();
          });
      </script>
{% endblock head %}

{% block content %}
<div class="container-fluid">
    <form id="main_form" method="Post" action="results" enctype="multipart/form-data">

        <h2>ENRICHMENT</h2>

        <div class="row">
            <div class="col-md-5">
                <h3>Upload file</h3>
                <title>Where does this show up?</title>
                {{ form.userinput_file.label }}: {{ form.userinput_file(class="filestyle btn-info" , **{"data-buttonText" : "Upload File"}) }}
                    {% if form.userinput_file.errors %}
                    <ul class="errors"> {% for error in form.userinput_file.errors %} <b> {{ error }} </b> {% endfor %} </ul>
                    {% endif %}
{#                <p>Expects a tab-demlimited text-file with 3 columns:#}
{#                    <li>'population_an'</li>#}
{#                    <li>'population_int'</li>#}
{#                    <li>'sample_an'</li>#}
{#                    if 'Abundance correction' is deselected 'population_int' can be omitted#}
{#                </p>#}
            </div>
            <div class="col-md-5">
                <br><br>
                <br> {{ form.organism.label }}: {{ form.organism() }}
                <br> {{ form.abcorr.label }}: {{ form.abcorr() }} <br>
{#               <!-- <span class="number"> {{ form.decimal.label }}: {{ form.decimal() }} <br> </span> -->#}
                <span class="number"> {{ form.num_bins.label }}: {{ form.num_bins() }} <br> </span>
                    {% if form.num_bins.errors %}
                    <ul class="errors"> {% for error in form.num_bins.errors %} <b> {{ error }} </b> {% endfor %} </ul>
                    {% endif %}
                <span class="number_placeholder"> <br> <br> </span>
            </div>
        </div>

        <div class="row">
            <div class="col-md-5">
                <h3>Keyword association</h3>
                <span> {{ form.gocat_upk.label }}: {{ form.gocat_upk() }} <br> </span>
                <span class="GOT"> {{ form.go_slim_or_basic.label }}: {{ form.go_slim_or_basic() }} <br> </span>
                <span class="GOT"> {{ form.backtracking.label }}: {{ form.backtracking() }} <br> </span>
                <span class="GOT_placeholder"> <br> </span>
{#                <span class="GOT_placeholder"> <br> </span>#}
                <br>
            </div>
        </div>

        <div class="row">
            <div class="col-md-5">
                <h3>Report options</h3>
                <span> {{ form.o_or_u_or_both.label }}: {{ form.o_or_u_or_both() }} <br> </span>
                <span class="GOT"> {{ form.indent.label }}: {{ form.indent() }} <br> </span>
                <span class="GOT_placeholder"> <br> </span>
                <br><br>

                <h4>Multiple testing</h4>
                <span> {{ form.multitest_method.label }}: {{ form.multitest_method() }} <br> </span>
                <span class="alpha"> {{ form.alpha.label }}: {{ form.alpha }} <br> </span>
                    {% if form.alpha.errors %}
                    <ul class="errors"> {% for error in form.alpha.errors %} <b> {{ error }} </b> {% endfor %} </ul>
                    {% endif %}
                <span class="alpha_placeholder"> <br> </span>
                <br>

            </div>
            <div class="col-md-5">
                <br><br>
                <h4>Filter results</h4>
                {{ form.fold_enrichment_study2pop.label }}: {{ form.fold_enrichment_study2pop() }}
                    {% if form.fold_enrichment_study2pop.errors %}
                    <ul class="errors"> {% for error in form.fold_enrichment_study2pop.errors %} <b> {{ error }} </b> {% endfor %} </ul>
                    {% endif %}
                <br>{{ form.p_value_uncorrected.label }}: {{ form.p_value_uncorrected() }}
                    {% if form.p_value_uncorrected.errors %}
                    <ul class="errors"> {% for error in form.p_value_uncorrected.errors %} <b> {{ error }} </b> {% endfor %} </ul>
                    {% endif %}
                <br>{{ form.p_value_mulitpletesting.label }}: {{ form.p_value_mulitpletesting() }}
                    {% if form.p_value_mulitpletesting.errors %}
                    <ul class="errors"> {% for error in form.p_value_mulitpletesting.errors %} <b> {{ error }} </b> {% endfor %} </ul>
                    {% endif %}
            </div>
        </div>

        <button id="submit_button" type="submit" class="btn btn-primary">Submit</button>
		<br>
	</form>
</div>
{% endblock content %}
