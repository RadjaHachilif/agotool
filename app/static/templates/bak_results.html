{% extends "layout.html" %}
{% block head %}
      <script type="text/javascript">
          $(document).ready( function() {
              results_page();
          });
      </script>


{% endblock head %}
{#{% block nav_Results%} <li class="nav-item active"> <a class="nav-link" name="file_path" href="{{ url_for('download_results_data', filename=file_path) }}">Results<span class="sr-only">(current)</span></a></li> {% endblock %}#}
{#{% block nav_Enrichment %} <li class="nav-item active"> <a class="nav-link" name="file_path" href="{{ url_for('download_results_data', filename=file_path) }}">Download results as tab separated file<span class="sr-only">(current)</span></a></li> {% endblock %}#}
{% block navbar %}
       <nav class="navbar navbar-custom navbar-expand-lg navbar-dark primary-color">
          <a class="navbar-brand" href="{{ url_for('enrichment') }}">a GO tool</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav" aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
          <div class="collapse navbar-collapse" id="basicExampleNav">
            <ul class="navbar-nav mr-auto">
              {% block nav_Enrichment %}<li class="nav-item"> <a class="nav-link" href="{{ url_for('enrichment') }}">Enrichment</a></li>{% endblock %}
              {% block nav_Parameters %}<li class="nav-item"> <a class="nav-link" href="{{ url_for('parameters') }}">Parameters</a></li>{% endblock %}
              {% block nav_Example %}<li class="nav-item"> <a class="nav-link" href="{{ url_for('example') }}">Example</a></li>{% endblock %}
              {% block nav_FAQ %}<li class="nav-item"> <a class="nav-link" href="{{ url_for('FAQ') }}">FAQ</a></li>{% endblock %}
              {% block nav_DB_schema %}<li class="nav-item"> <a class="nav-link" href="{{ url_for('db_schema') }}">DB_schema</a></li>{% endblock %}
              {% block nav_About %}<li class="nav-item"> <a class="nav-link" href="{{ url_for('about') }}">About</a></li>{% endblock %}
              {% block nav_Results_compact %}<li class="nav-item active"> <a class="nav-link" name="file_path" href="{{ url_for('download_results_data', filename=file_path) }}">Results compact<span class="sr-only">(current)</span></a></li>{% endblock %}
              {% block nav_Results_comprehensive %}<li class="nav-item"> <a class="nav-link" name="file_path" href="{{ url_for('download_results_data', filename=file_path) }}">Results comprehensive</a></li>{% endblock %}
            </ul>
              <span class="cpr_logo"><a href="http://www.cpr.ku.dk/"> <img height="40" width="92" src="{{ url_for('static', filename='CPR_logo.png') }}"></a></span>
          </div>
        </nav>
{% endblock navbar %}

{% block content %}
{#<div class="container-fluid">#}
    <form id="form" method="Post" action="unset" enctype="multipart/form-data">

{#        <div class="row">#}
{#            <h4>MCL clustering</h4>#}
{#                <div class="col-md-6">#}
{#                    <span>The aim of the clustering approach is to group results (i.e. rows of the resulting output table below) associated with similar sets of accession numbers.#}
{#                        Enter a number higher than 1 as the inflation factor. Usually a number between 1.1 and 10 is chosen. Increasing the value will increase cluster granularity (produce more clusters).#}
{#                        Some combinations of data and inflation factor can take very long to process. Please be patient. The maximum time for clustering is set to {{ maximum_time }} min.#}
{#                        If this limit is exceeded, MCL is interrupted and the original results will be displayed.</span>#}
{#                </div>#}
{##}
{#                <div class="col-md-6">#}
{#                    <span title="{{ form.inflation_factor.description }}" class="inflation_factor"> {{ form.inflation_factor.label }}: {{ form.inflation_factor}}</span>#}
{#                        {% if form.inflation_factor.errors %}#}
{#                        <ul class="errors"> {% for error in form.inflation_factor.errors %} <b> {{ error }} </b> {% endfor %} </ul>#}
{#                        {% endif %}#}
{#                    <button id="submit_mcl" type="button" onclick="submit_form('form', 'results_clustered')" class="btn btn-primary">MCL</button>#}
{#                {% for error in errors %}#}
{#                    <div style="color: red;">{{ error }}</div>#}
{#                {% endfor %}#}
{#                </div>#}
{#        </div>#}
{#        <br>#}
{##}
{#        <div class="row">#}
{#            <h4>Filter hierarchy</h4>#}
{#                <div class="col-md-6">#}
{#                    <span>The aim of this processing step is to reduce the plethora of results (i.e. the number of GO-terms) to a clear and concise subset thereof, without#}
{#                        loosing essential information. See <a href="{{ url_for('parameters') }}">parameters</a> for more information.</span>#}
{#                </div>#}
{#                <div class="md-col-6">#}
{#                    <button id="submit_filter" type="button" onclick="submit_form('form', 'results_filtered')" class="btn btn-primary">Filter</button>#}
{#                </div>#}
{#        </div>#}
{#        <br>#}

        <input type="hidden" style="display: none;" name="session_id" value="{{ session_id }}">
{#        <input type="hidden" style="display: none;" name="limit_2_entity_type" value="{{ limit_2_entity_type }}">#}
{#        <input type="hidden" style="display: none;" name="indent" value="{{ indent }}">#}

    </form>
            <div class="row">
{#            <div class="col-md-3"><h4>Download results file</h4></div>#}
{#            <div class="col-md-1"></div>#}
                <a name="file_path" href="{{ url_for('download_results_data', filename=file_path) }}" class="btn btn-primary">Download results as tab separated file</a>
{#            <div class="col-md-7"></div>#}
            </div>
{#</div>#}
{% endblock content %}

{% block table %}
    <br>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-51] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">UniProt keywords</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-51] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-21] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">Gene Ontology biological process</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-21] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-23] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">Gene Ontology molecular function</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-23] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-22] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">Gene Ontology cellular component</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-22] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-20] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">Gene Ontology cellular component TEXTMINING</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-20] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-25] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">Brenda Tissue Ontology</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-25] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-26] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">Disease Ontology</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-26] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-52] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">KEGG</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-52] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-54] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">InterPro</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-54] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-55] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">PFAM (Protein FAMilies)</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-55] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-56] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">PMID (PubMed IDentifiers)</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-56] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-57] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">Reactome</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-57] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>

    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-58] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">WikiPathways</div>
        <div id="table_id" class="table_etype table table-striped"> {{ etype_2_df_as_html_dict[-58] | safe }} </div>
{#        <div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>#}
    </div>


{#    pandas styling #}
    <div class="row div_table_etype" data-value={{ etype_2_rowsCount_dict[-51] }}>
        <div class="alert alert-info col-md-12 text-center" role="alert">UniProt keywords 2</div>
        <div id="table_id" class="table_etype table table-striped hover text-overflow: ellipsis"> {{ etype_2_df_as_html_dict[-551] | safe }} </div>
{#        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>#}
    </div>
        <br><br><br><br><br>


{#    <div class="col-md-1"></div>#}
{#</div>#}

{#    <table id="table_id" class="table table-striped hover">#}
{#        <thead>#}
{#            <tr>#}
{#            {% for h in header%}#}
{#                <th><span class="table_header">{{ h.replace('_', ' ') }}</span></th>#}
{#            {% endfor %}#}
{#            </tr>#}
{#        </thead>#}
{#         <tbody>#}
{#         {% for result_row in results %}#}
{#             <tr>#}
{#             {% for r in result_row %}#}
{#                 <td title="click to show all"><div class="ellipsis long_row" onclick="toggle_ellipsis(this)">{{ r }}</div></td>#}
{#             {% endfor %}#}
{#             </tr>#}
{#         {% endfor %}#}
{#         </tbody>#}
{#    </table>#}
{##}
{#    {% block table %}#}
{#    <table id="table_id" class="table table-striped hover">#}
{#    {{ etype_2_df_as_html_dict[-21] | safe }}#}
{#    {{ table|safe }}#}
{#    </table>#}
{#    {% endblock table %}#}
{#    <br>#}
{#    <br>#}
{#    {% block table %}#}
{#    {{ etype_2_df_as_html_dict[-22] | safe }}#}
{#    {{ table|safe }}#}
{#    {% endblock table %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-23] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-20] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-51] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-52] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-53] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-54] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-55] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-56] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-57] %}#}
{#    <br>#}
{#    <br>#}
{#    {% etype_2_df_as_html_dict[-58] %}#}


{#</div>#}
{% endblock table %}